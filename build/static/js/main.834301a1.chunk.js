(this["webpackJsonptanzu-ui-challenge"]=this["webpackJsonptanzu-ui-challenge"]||[]).push([[0],{16:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),r=s(9),a=s.n(r),l=s(2),i=(s(3),s(0)),o=function(){return Object(i.jsxs)("div",{className:"navbar",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{id:"logo",children:"vm"}),"Tanzu Mission Control"]}),Object(i.jsx)("div",{children:"UserName | Org"})]})},j=s(10),u=function(e){var t=e.clusters,s=e.firstCluster,c=e.lastCluster,r=Object(j.a)(t),a=Object(n.useState)({field:null,direction:null}),o=Object(l.a)(a,2),u=o[0],b=o[1],d=u.field,h=u.direction;null!==d&&r.sort((function(e,t){return e[d]<t[d]?"ascending"===h?-1:1:e[d]>t[d]?"ascending"===h?1:-1:0}));var O=function(e){var t="ascending";u.field===e&&"ascending"===u.direction&&(t="descending"),b({field:e,direction:t})},m=function(e){return e!==u.field?Object(i.jsx)("i",{className:"fas fa-sort"}):u.field===e&&"ascending"===u.direction?Object(i.jsx)("i",{className:"fas fa-sort-up"}):u.field===e&&"descending"===u.direction?Object(i.jsx)("i",{className:"fas fa-sort-down"}):void 0},x=function(){b({field:null,direction:null})};return Object(i.jsxs)("table",{className:"table-wrapper",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{children:[Object(i.jsx)("span",{onClick:function(){return x()},children:"Cluster Name"}),Object(i.jsx)("button",{type:"button",className:"sort-icon",onClick:function(e){O("name")},children:m("name")})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("span",{onClick:function(){return x()},children:"OS"}),Object(i.jsx)("button",{type:"button",className:"sort-icon",onClick:function(){return O("os")},children:m("os")})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("span",{onClick:function(){return x()},children:"Cores"}),Object(i.jsx)("button",{type:"button",className:"sort-icon",onClick:function(){O("cores")},children:m("cores")})]}),Object(i.jsx)("th",{children:"Pods"}),Object(i.jsx)("th",{children:"Nodes"}),Object(i.jsx)("th",{children:"Memory"}),Object(i.jsx)("th",{children:"Labels"}),Object(i.jsx)("th",{children:"Namespaces"})]})}),Object(i.jsx)("tbody",{children:r.slice(s,c).map((function(e){var t=e.name,s=e.os,n=e.cores,c=e.pods,r=e.nodes,a=e.total_memory_gb,l=e.labels,o=e.namespaces;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"cluster-name",children:t.replace("-cluster","")}),s.length>0&&Object(i.jsx)("td",{children:s}),Object(i.jsx)("td",{children:n}),Object(i.jsx)("td",{children:c}),Object(i.jsx)("td",{children:r}),Object(i.jsxs)("td",{children:[a.toLocaleString("en"),"%"]}),Object(i.jsxs)("td",{className:"list-col",children:[Object(i.jsx)("span",{className:"btn-labels",children:l.length})," ",l.join(", ")]}),Object(i.jsx)("td",{className:"list-col namespaces",children:o.join(",")})]},t)}))})]})},b=function(e){var t=e.totalClustersCount,s=e.filteredClustersCount,n=e.searchTerm,c=e.setSearchTerm,r=e.clearSearchTerm,a=e.toggleClusterForm,l=s===t?"".concat(t," Total Clusters"):"".concat(s," of ").concat(t," Clusters");return Object(i.jsxs)("div",{className:"cluster-cntrl-wrapper",children:[Object(i.jsxs)("div",{className:"cluster-cntrl-group",children:[Object(i.jsxs)("div",{className:"cluster-cntrl-header",children:[Object(i.jsx)("h1",{children:"Clusters"}),Object(i.jsx)("div",{id:"cluster-count",children:l})]}),Object(i.jsx)("button",{className:"btn-primary",onClick:function(){return a(!0)},children:"New Cluster"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{className:"search-input",type:"text",placeholder:"Search by name or OS",value:n,onChange:c}),Object(i.jsx)("button",{className:"btn-secondary",onClick:r,disabled:""===n,children:"Clear search"})]})]})},d=function(e){var t=e.setCurrentClusterPage,s=e.currentClusterPage,n=e.lastCluster,c=e.firstCluster,r=e.totalClusters,a=function(e){t("back"===e?s-1:s+1)};return Object(i.jsx)("div",{className:"pagination-wrapper",children:Object(i.jsxs)("div",{className:"pagination-controls",children:[Object(i.jsx)("button",{disabled:1===s,className:"btn-pagination",onClick:function(){return a("back")},children:Object(i.jsx)("i",{className:"fas fa-chevron-left"})}),Object(i.jsxs)("span",{className:"pagination-title",children:[c+1," to ",n," of ",r," Clusters"]}),Object(i.jsx)("button",{disabled:n>=r,className:"btn-pagination",onClick:function(){return a("fwd")},children:Object(i.jsx)("i",{className:"fas fa-chevron-right"})})]})})},h=s(5),O=s(6),m=function(e){var t=e.toggleClusterForm,s=e.addNewCluster,c=Object(n.useState)({name:"",os:"",cores:"-",pods:"-",nodes:"-",total_memory_gb:"-",labels:[],namespaces:[]}),r=Object(l.a)(c,2),a=r[0],o=r[1],j=a.name,u=a.os,b=a.cores,d=a.pods,m=(a.total_memory_gb,a.labels),x=a.namespaces,f=function(e){if("labels"===e.target.name||"namespaces"===e.target.name){var t=e.target.value.split(",");o(Object(O.a)(Object(O.a)({},a),{},Object(h.a)({},e.target.name,t)))}else o(Object(O.a)(Object(O.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))};return console.log(a),Object(i.jsx)("div",{className:"form-wrapper",children:Object(i.jsxs)("form",{className:"new-cluster-form",onSubmit:function(e){return function(e,n){e.preventDefault(),s(n),t(!1)}(e,a)},children:[Object(i.jsxs)("div",{className:"form-header",children:[" ",Object(i.jsx)("h2",{children:"Add New Cluster"}),Object(i.jsx)("button",{className:"btn-secondary ",onClick:function(){return t(!1)},children:"close"})]}),Object(i.jsx)("hr",{style:{width:"100%"}}),Object(i.jsxs)("div",{className:"form-input-wrapper",children:[" ",Object(i.jsxs)("label",{children:["Name",Object(i.jsx)("input",{name:"name",type:"text",value:j,onChange:f,required:!0})]}),Object(i.jsxs)("label",{children:["OS",Object(i.jsx)("input",{name:"os",type:"text",value:u,onChange:f})]}),Object(i.jsxs)("label",{children:["Labels",Object(i.jsx)("input",{name:"labels",type:"text",value:m,onChange:f})]}),Object(i.jsxs)("label",{children:["Cores",Object(i.jsx)("input",{name:"cores",type:"number",min:"1",max:"10",value:b,onChange:f})]}),Object(i.jsxs)("label",{children:["Pods",Object(i.jsx)("input",{name:"pods",type:"number",min:"1",max:"10",value:d,onChange:f})]}),Object(i.jsxs)("label",{children:["Namespaces",Object(i.jsx)("input",{name:"namespaces",type:"text",value:x,onChange:f})]})]}),Object(i.jsx)("input",{type:"submit",value:"Submit",className:"btn-primary",id:"btn-form-submit"})," "]})})},x=function(){Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("clusters");fetch("clusters.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e?c(JSON.parse(localStorage.getItem("clusters"))):(localStorage.setItem("clusters",JSON.stringify(t)),c(t))}))}()}),[]);var e=Object(n.useState)([]),t=Object(l.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(1),a=Object(l.a)(r,2),j=a[0],h=a[1],O=Object(n.useState)(10),x=Object(l.a)(O,1)[0],f=j*x,p=f-x,g=Object(n.useState)(""),C=Object(l.a)(g,2),N=C[0],v=C[1],y=function(e){var t=N.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)||e.os.toLowerCase().includes(t)}))},S=Object(n.useState)(!1),w=Object(l.a)(S,2),k=w[0],T=w[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsxs)("div",{className:"page-wrapper",children:[Object(i.jsx)(b,{totalClustersCount:s.length,filteredClustersCount:y(s).length,searchTerm:N,setSearchTerm:function(e){v(e.target.value),h(1)},clearSearchTerm:function(){v(""),h(1)},toggleClusterForm:T}),Object(i.jsx)(u,{clusters:y(s),firstCluster:p,lastCluster:f}),Object(i.jsx)(d,{setCurrentClusterPage:h,currentClusterPage:j,firstCluster:p,lastCluster:f,filteredClusters:y(s),totalClusters:s.length})]}),k&&Object(i.jsx)(m,{toggleClusterForm:T,addNewCluster:function(e){var t=s.concat(e);c(s.concat(e)),localStorage.setItem("clusters",JSON.stringify(t))}})]})};a.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root"))},3:function(e,t,s){}},[[16,1,2]]]);
//# sourceMappingURL=main.834301a1.chunk.js.map